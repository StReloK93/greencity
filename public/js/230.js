"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[230],{5013:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(3645),i=n.n(r)()((function(t){return t[1]}));i.push([t.id,"input[type=text][data-v-f6da528e]:disabled{background:transparent!important;border-color:transparent!important}",""]);const o=i},8518:(t,e,n)=>{n.d(e,{Z:()=>m});var r=n(821),i={class:"fixed top-0 right-16 mx-2 my-4"},o={key:0,class:"flex"},a=(0,r.Uk)(" Uchastkalar "),s=(0,r._)("i",{class:"gg-clapper-board ml-3"},null,-1),u=[(0,r.Uk)(" Chiqish "),(0,r._)("i",{class:"gg-log-out ml-3 mr-1"},null,-1)],l={key:1,class:"flex"},c=(0,r.Uk)(" Kirish "),d=(0,r._)("i",{class:"gg-log-in ml-5 mr-0"},null,-1);const f={},m=(0,n(3744).Z)(f,[["render",function(t,e){var n=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("main",i,[t.$store.state.user?((0,r.wg)(),(0,r.iD)("div",o,["territories"!=t.$route.name?((0,r.wg)(),(0,r.j4)(n,{key:0,class:"custom-btn",to:"/territories"},{default:(0,r.w5)((function(){return[a,s]})),_:1})):(0,r.kq)("",!0),(0,r._)("button",{onClick:e[0]||(e[0]=function(e){return t.$store.dispatch("logout")}),class:"custom-btn ml-4"},u)])):((0,r.wg)(),(0,r.iD)("div",l,[(0,r.Wm)(n,{class:"custom-btn",to:"/login"},{default:(0,r.w5)((function(){return[c,d]})),_:1})]))])}]])},2230:(t,e,n)=>{n.r(e),n.d(e,{default:()=>et});var r=n(821),i=function(t){return(0,r.dD)("data-v-f6da528e"),t=t(),(0,r.Cn)(),t},o={class:"fixed top-0 left-16 m-2"},a=(0,r.Uk)(" Bosh sahifa "),s=i((function(){return(0,r._)("img",{src:"/images/home.png",class:"ml-3 w-5"},null,-1)})),u={class:"w-full bg-gray-300 pt-24"},l={class:"px-16 py-2"},c={key:0,class:"flex flex-wrap"},d={class:"p-5 shadow-inner bg-gray-100 text-gray-600 inline-block rounded w-full"},f={class:"flex justify-between items-center"},m=["onSubmit"],p=["value"],g=["onClick"],h=[i((function(){return(0,r._)("i",{class:"gg-pen text-green-800"},null,-1)}))],b=["onClick"],v=[i((function(){return(0,r._)("i",{class:"gg-clipboard text-red-800"},null,-1)}))],w={class:"flex justify-between my-3"},y=i((function(){return(0,r._)("span",null,"Mevali daraxt",-1)})),x={class:"flex justify-between my-3"},k=i((function(){return(0,r._)("span",null,"Manzarali daraxt",-1)})),_={class:"flex justify-between"},T=["onClick"],C=[i((function(){return(0,r._)("i",{class:"gg-trash text-white"},null,-1)}))],D=(0,r.Uk)(" Constructor "),U=i((function(){return(0,r._)("i",{class:"gg-chevron-right ml-3"},null,-1)})),j={class:"p-2"},q=[(0,r.Uk)(" Qo'shish "),i((function(){return(0,r._)("i",{class:"gg-math-plus ml-3"},null,-1)}))];var A=n(7757),$=n.n(A),Z=(0,r._)("h3",{class:"mb-5 text-center text-xl font-bold text-gray-600"},"Yangi uchastka kiritish",-1),M=(0,r._)("label",{for:"nameTerritory",class:"text-gray-400 text-sm mb-2 inline-block"},"Uchastka nomi",-1),F=(0,r._)("div",null,[(0,r._)("button",{type:"submit",class:"p-2 bg-green-500 text-white w-full shadow"}," Saqlash ")],-1);function I(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}const P={data:function(){return{form:{name:""},timer:!0}},methods:{addTerritory:function(){var t,e=this;return(t=$().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.timer){t.next=7;break}return t.next=3,axios.post("api/territories/create",e.form);case 3:201==t.sent.status&&e.$emit("addTerritory"),e.timer=!1,setTimeout((function(){e.timer=!0}),2e3);case 7:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){I(o,r,i,a,s,"next",t)}function s(t){I(o,r,i,a,s,"throw",t)}a(void 0)}))})()}}};var W=n(3744);const z=(0,W.Z)(P,[["render",function(t,e,n,i,o,a){return(0,r.wg)(),(0,r.iD)("section",{class:"fixed top-0 left-0 bg-black bg-opacity-50 w-full h-full flex items-center justify-center",onClick:e[3]||(e[3]=function(e){return t.$emit("close")})},[(0,r._)("form",{onSubmit:e[1]||(e[1]=(0,r.iM)((function(){return a.addTerritory&&a.addTerritory.apply(a,arguments)}),["prevent"])),class:"px-6 py-10 bg-white w-96 rounded border border-green-600",onClick:e[2]||(e[2]=(0,r.iM)((function(){}),["stop"]))},[Z,M,(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{id:"nameTerritory",type:"text","onUpdate:modelValue":e[0]||(e[0]=function(t){return o.form.name=t}),placeholder:"Uchastka nomi",class:"bg-gray-100 p-2 outline-none mb-5 w-full",required:""},null,512),[[r.nr,o.form.name]])]),F],32)])}]]);var N=n(8518),S=(0,r._)("h3",{class:"text-center text-gray-600 font-medium text-2xl mb-2"},"Aniq o'chirmoqchimisiz?",-1),H=(0,r._)("p",{class:"mb-4 text-gray-400 text-center"}," Malumotlarni tiklab bo'lmaydi ",-1),Y={class:"flex"},B=[(0,r.Uk)(" yoq "),(0,r._)("i",{class:"gg-close ml-3"},null,-1)],E=(0,r._)("button",{type:"submit",class:"p-2 ml-2 rounded uppercase flex items-center justify-center bg-green-500 text-white w-full shadow"},[(0,r.Uk)(" Ha "),(0,r._)("i",{class:"gg-check ml-3 transform scale-150"})],-1);function K(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}const Q={props:["id"],data:function(){return{form:{name:""},timer:!0}},methods:{deleteTerritory:function(){var t,e=this;return(t=$().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,axios.get("/api/territories/delete/".concat(e.id));case 2:t.sent,e.$emit("deleted");case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){K(o,r,i,a,s,"next",t)}function s(t){K(o,r,i,a,s,"throw",t)}a(void 0)}))})()}}},V=(0,W.Z)(Q,[["render",function(t,e,n,i,o,a){return(0,r.wg)(),(0,r.iD)("section",{class:"fixed top-0 left-0 bg-black pt-16 bg-opacity-50 w-full h-full flex items-start justify-center",onClick:e[3]||(e[3]=function(e){return t.$emit("close")})},[(0,r._)("form",{onSubmit:e[1]||(e[1]=(0,r.iM)((function(){return a.deleteTerritory&&a.deleteTerritory.apply(a,arguments)}),["prevent"])),class:"p-6 bg-white w-96",onClick:e[2]||(e[2]=(0,r.iM)((function(){}),["stop"]))},[S,H,(0,r._)("div",Y,[(0,r._)("span",{onClick:e[0]||(e[0]=function(e){return t.$emit("close")}),class:"p-2 mr-2 flex items-center justify-center rounded uppercase bg-red-500 text-white w-full shadow"},B),E])],32)])}]]);function G(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function J(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){G(o,r,i,a,s,"next",t)}function s(t){G(o,r,i,a,s,"throw",t)}a(void 0)}))}}const L={data:function(){return{inpArray:[],addForm:!1,territories:[],disabled:!1,activeId:null}},mounted:function(){var t=this;return J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.getTerritories();case 1:case"end":return e.stop()}}),e)})))()},methods:{getTerritories:function(){var t=arguments,e=this;return J($().mark((function n(){var r,i;return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.length>0&&void 0!==t[0]&&t[0]&&(e.activeId=null),n.next=4,axios.get("/api/territories/getforuser");case 4:r=n.sent,(i=r.data).forEach((function(t,e){i[e].boolean=!0})),e.territories=i;case 8:case"end":return n.stop()}}),n)})))()},addTerritory:function(){this.getTerritories(),this.addForm=!1},editName:function(t,e){var n=this.$refs.inputs[e];n.disabled=!1,t.boolean=!1,n.focus()},saveName:function(t,e){var n=this;return J($().mark((function r(){var i,o,a;return $().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(t,e),i=n.$refs.inputs[e],r.next=4,axios.post("api/territories/update",{id:t.id,name:i.value});case 4:o=r.sent,(a=o.data).forEach((function(t,r){a[r].boolean=e==r||n.territories[r].boolean})),n.territories=a,i.disabled=!0,t.boolean=!0;case 10:case"end":return r.stop()}}),r)})))()},openDeleteForm:function(t){this.activeId=t}},components:{AddTerritory:z,Authentication:N.Z,AskDeletion:V}};var O=n(3379),R=n.n(O),X=n(5013),tt={insert:"head",singleton:!1};R()(X.Z,tt);X.Z.locals;const et=(0,W.Z)(L,[["render",function(t,e,n,i,A,$){var Z=(0,r.up)("Authentication"),M=(0,r.up)("router-link"),F=(0,r.up)("AddTerritory"),I=(0,r.up)("AskDeletion");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(Z),(0,r._)("main",o,[(0,r.Wm)(M,{title:"Bosh sahifa",class:"custom-btn my-2 shadow-sm",to:"/"},{default:(0,r.w5)((function(){return[a,s]})),_:1})]),(0,r._)("section",u,[(0,r._)("div",l,[A.territories.length>0?((0,r.wg)(),(0,r.iD)("main",c,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(A.territories,(function(t,e){return(0,r.wg)(),(0,r.iD)("aside",{key:e,class:"mb-3 w-1/4 px-2"},[(0,r._)("main",d,[(0,r._)("aside",f,[(0,r._)("form",{onSubmit:(0,r.iM)((function(n){return $.saveName(t,e)}),["prevent"])},[(0,r._)("input",{type:"text",ref_for:!0,ref:"inputs",class:"uppercase py-1 w-full font-medium text-xl outline-none border-b border-green-600 bg-white p-2",disabled:"",value:t.name},null,8,p)],40,m),t.boolean?((0,r.wg)(),(0,r.iD)("button",{key:0,onClick:function(n){return $.editName(t,e)},class:"inline-block py-4 px-3 bg-gray-200 rounded"},h,8,g)):((0,r.wg)(),(0,r.iD)("button",{key:1,onClick:function(n){return $.saveName(t,e)},class:"inline-block p-2 bg-gray-200 rounded"},v,8,b))]),(0,r._)("div",w,[y,(0,r._)("span",null,(0,r.zw)(t.mevali),1)]),(0,r._)("div",x,[k,(0,r._)("span",null,(0,r.zw)(t.manzarali),1)]),(0,r._)("main",_,[(0,r._)("button",{onClick:function(e){return $.openDeleteForm(t.id)},class:"custom-btn bg-gray-600 hover:bg-red-700"},C,8,T),(0,r.Wm)(M,{to:{name:"constructor",params:{id:t.id}},class:"custom-btn justify-center shadow-sm"},{default:(0,r.w5)((function(){return[D,U]})),_:2},1032,["to"])])])])})),128))])):(0,r.kq)("",!0),(0,r._)("main",j,[(0,r._)("button",{onClick:e[0]||(e[0]=function(t){return A.addForm=!0}),class:"custom-btn shadow-sm bg-green-600 text-white hover:bg-green-800",title:"Uchastka qo'shish"},q)])]),(0,r.Wm)(r.uT,{name:"fade"},{default:(0,r.w5)((function(){return[A.addForm?((0,r.wg)(),(0,r.j4)(F,{key:0,onClose:e[1]||(e[1]=function(t){return A.addForm=!1}),onAddTerritory:$.addTerritory},null,8,["onAddTerritory"])):(0,r.kq)("",!0)]})),_:1}),(0,r.Wm)(r.uT,{name:"fade"},{default:(0,r.w5)((function(){return[A.activeId?((0,r.wg)(),(0,r.j4)(I,{key:0,id:A.activeId,onClose:e[2]||(e[2]=function(t){return A.activeId=null}),onDeleted:e[3]||(e[3]=function(t){return $.getTerritories(!0)})},null,8,["id"])):(0,r.kq)("",!0)]})),_:1})])],64)}],["__scopeId","data-v-f6da528e"]])}}]);
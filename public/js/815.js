"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[815],{6848:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(3645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,"input[type=text][data-v-fcca1668]:disabled{background:transparent!important;border-color:transparent!important}",""]);const o=i},6889:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(821),i={class:"fixed top-0 right-16 mx-2 my-4"},o={key:0,class:"flex"},a={key:0,class:"custom-btn",href:"/territories"},s=[(0,r.Uk)(" Uchastkalar "),(0,r._)("i",{class:"gg-clapper-board ml-3"},null,-1)],u=[(0,r.Uk)(" Chiqish "),(0,r._)("i",{class:"gg-log-out ml-3 mr-1"},null,-1)],c={key:1,class:"flex"},l=(0,r.Uk)(" Kirish "),d=(0,r._)("i",{class:"gg-log-in ml-5 mr-0"},null,-1);const f={},m=(0,n(3744).Z)(f,[["render",function(e,t){var n=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("main",i,[e.$store.state.user?((0,r.wg)(),(0,r.iD)("div",o,["territories"!=e.$route.name?((0,r.wg)(),(0,r.iD)("a",a,s)):(0,r.kq)("",!0),(0,r._)("button",{onClick:t[0]||(t[0]=function(t){return e.$store.dispatch("logout")}),class:"custom-btn ml-4"},u)])):((0,r.wg)(),(0,r.iD)("div",c,[(0,r.Wm)(n,{class:"custom-btn",to:"/login"},{default:(0,r.w5)((function(){return[l,d]})),_:1})]))])}]])},7815:(e,t,n)=>{n.r(t),n.d(t,{default:()=>te});var r=n(821),i=function(e){return(0,r.dD)("data-v-fcca1668"),e=e(),(0,r.Cn)(),e},o={class:"fixed top-0 left-16 m-2"},a=(0,r.Uk)(" Bosh sahifa "),s=i((function(){return(0,r._)("img",{src:"/images/home.png",class:"ml-3 w-5"},null,-1)})),u={class:"w-full bg-gray-300 pt-24"},c={class:"px-16 py-2"},l={key:0,class:"flex flex-wrap"},d={class:"p-5 shadow-inner bg-gray-100 text-gray-600 inline-block rounded w-full"},f={class:"flex justify-between items-center"},m=["onSubmit"],p=["value"],g=["onClick"],h=[i((function(){return(0,r._)("i",{class:"gg-pen text-green-800"},null,-1)}))],b=["onClick"],v=[i((function(){return(0,r._)("i",{class:"gg-clipboard text-red-800"},null,-1)}))],w={class:"flex justify-between my-3"},y=i((function(){return(0,r._)("span",null,"Mevali daraxt",-1)})),x={class:"flex justify-between my-3"},k=i((function(){return(0,r._)("span",null,"Manzarali daraxt",-1)})),_={class:"flex justify-between"},T=["onClick"],C=[i((function(){return(0,r._)("i",{class:"gg-trash text-white"},null,-1)}))],D=["href"],U=[(0,r.Uk)(" Constructor "),i((function(){return(0,r._)("i",{class:"gg-chevron-right ml-3"},null,-1)}))],j={class:"p-2"},q=[(0,r.Uk)(" Qo'shish "),i((function(){return(0,r._)("i",{class:"gg-math-plus ml-3"},null,-1)}))];var A=n(7757),$=n.n(A),Z=(0,r._)("h3",{class:"mb-5 text-center text-xl font-bold text-gray-600"},"Yangi uchastka kiritish",-1),M=(0,r._)("label",{for:"nameTerritory",class:"text-gray-400 text-sm mb-2 inline-block"},"Uchastka nomi",-1),F=(0,r._)("div",null,[(0,r._)("button",{type:"submit",class:"p-2 bg-green-500 text-white w-full shadow"}," Saqlash ")],-1);function I(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}const P={data:function(){return{form:{name:""},timer:!0}},methods:{addTerritory:function(){var e,t=this;return(e=$().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.timer){e.next=7;break}return e.next=3,axios.post("api/territories/create",t.form);case 3:201==e.sent.status&&t.$emit("addTerritory"),t.timer=!1,setTimeout((function(){t.timer=!0}),2e3);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){I(o,r,i,a,s,"next",e)}function s(e){I(o,r,i,a,s,"throw",e)}a(void 0)}))})()}}};var z=n(3744);const N=(0,z.Z)(P,[["render",function(e,t,n,i,o,a){return(0,r.wg)(),(0,r.iD)("section",{class:"fixed top-0 left-0 bg-black bg-opacity-50 w-full h-full flex items-center justify-center",onClick:t[3]||(t[3]=function(t){return e.$emit("close")})},[(0,r._)("form",{onSubmit:t[1]||(t[1]=(0,r.iM)((function(){return a.addTerritory&&a.addTerritory.apply(a,arguments)}),["prevent"])),class:"px-6 py-10 bg-white w-96 rounded border border-green-600",onClick:t[2]||(t[2]=(0,r.iM)((function(){}),["stop"]))},[Z,M,(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{id:"nameTerritory",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.form.name=e}),placeholder:"Uchastka nomi",class:"bg-gray-100 p-2 outline-none mb-5 w-full",required:""},null,512),[[r.nr,o.form.name]])]),F],32)])}]]);var S=n(6889),W=(0,r._)("h3",{class:"text-center text-gray-600 font-medium text-2xl mb-2"},"Aniq o'chirmoqchimisiz?",-1),H=(0,r._)("p",{class:"mb-4 text-gray-400 text-center"}," Malumotlarni tiklab bo'lmaydi ",-1),Y={class:"flex"},B=[(0,r.Uk)(" yoq "),(0,r._)("i",{class:"gg-close ml-3"},null,-1)],E=(0,r._)("button",{type:"submit",class:"p-2 ml-2 rounded uppercase flex items-center justify-center bg-green-500 text-white w-full shadow"},[(0,r.Uk)(" Ha "),(0,r._)("i",{class:"gg-check ml-3 transform scale-150"})],-1);function K(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}const Q={props:["id"],data:function(){return{form:{name:""},timer:!0}},methods:{deleteTerritory:function(){var e,t=this;return(e=$().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.get("/api/territories/delete/".concat(t.id));case 2:e.sent,t.$emit("deleted");case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){K(o,r,i,a,s,"next",e)}function s(e){K(o,r,i,a,s,"throw",e)}a(void 0)}))})()}}},V=(0,z.Z)(Q,[["render",function(e,t,n,i,o,a){return(0,r.wg)(),(0,r.iD)("section",{class:"fixed top-0 left-0 bg-black pt-16 bg-opacity-50 w-full h-full flex items-start justify-center",onClick:t[3]||(t[3]=function(t){return e.$emit("close")})},[(0,r._)("form",{onSubmit:t[1]||(t[1]=(0,r.iM)((function(){return a.deleteTerritory&&a.deleteTerritory.apply(a,arguments)}),["prevent"])),class:"p-6 bg-white w-96",onClick:t[2]||(t[2]=(0,r.iM)((function(){}),["stop"]))},[W,H,(0,r._)("div",Y,[(0,r._)("span",{onClick:t[0]||(t[0]=function(t){return e.$emit("close")}),class:"p-2 mr-2 flex items-center justify-center rounded uppercase bg-red-500 text-white w-full shadow"},B),E])],32)])}]]);function G(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){G(o,r,i,a,s,"next",e)}function s(e){G(o,r,i,a,s,"throw",e)}a(void 0)}))}}const L={data:function(){return{inpArray:[],addForm:!1,territories:[],disabled:!1,activeId:null}},mounted:function(){var e=this;return J($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.getTerritories();case 1:case"end":return t.stop()}}),t)})))()},methods:{getTerritories:function(){var e=arguments,t=this;return J($().mark((function n(){var r,i;return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.length>0&&void 0!==e[0]&&e[0]&&(t.activeId=null),n.next=4,axios.get("/api/territories/getforuser");case 4:r=n.sent,(i=r.data).forEach((function(e,t){i[t].boolean=!0})),t.territories=i;case 8:case"end":return n.stop()}}),n)})))()},addTerritory:function(){this.getTerritories(),this.addForm=!1},editName:function(e,t){var n=this.$refs.inputs[t];n.disabled=!1,e.boolean=!1,n.focus()},saveName:function(e,t){var n=this;return J($().mark((function r(){var i,o,a;return $().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(e,t),i=n.$refs.inputs[t],r.next=4,axios.post("api/territories/update",{id:e.id,name:i.value});case 4:o=r.sent,(a=o.data).forEach((function(e,r){a[r].boolean=t==r||n.territories[r].boolean})),n.territories=a,i.disabled=!0,e.boolean=!0;case 10:case"end":return r.stop()}}),r)})))()},openDeleteForm:function(e){this.activeId=e}},components:{AddTerritory:N,Authentication:S.Z,AskDeletion:V}};var O=n(3379),R=n.n(O),X=n(6848),ee={insert:"head",singleton:!1};R()(X.Z,ee);X.Z.locals;const te=(0,z.Z)(L,[["render",function(e,t,n,i,A,$){var Z=(0,r.up)("Authentication"),M=(0,r.up)("router-link"),F=(0,r.up)("AddTerritory"),I=(0,r.up)("AskDeletion");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(Z),(0,r._)("main",o,[(0,r.Wm)(M,{title:"Bosh sahifa",class:"custom-btn my-2 shadow-sm",to:"/"},{default:(0,r.w5)((function(){return[a,s]})),_:1})]),(0,r._)("section",u,[(0,r._)("div",c,[A.territories.length>0?((0,r.wg)(),(0,r.iD)("main",l,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(A.territories,(function(e,t){return(0,r.wg)(),(0,r.iD)("aside",{key:t,class:"mb-3 w-1/4 px-2"},[(0,r._)("main",d,[(0,r._)("aside",f,[(0,r._)("form",{onSubmit:(0,r.iM)((function(n){return $.saveName(e,t)}),["prevent"])},[(0,r._)("input",{type:"text",ref_for:!0,ref:"inputs",class:"uppercase py-1 w-full font-medium text-xl outline-none border-b border-green-600 bg-white p-2",disabled:"",value:e.name},null,8,p)],40,m),e.boolean?((0,r.wg)(),(0,r.iD)("button",{key:0,onClick:function(n){return $.editName(e,t)},class:"inline-block py-4 px-3 bg-gray-200 rounded"},h,8,g)):((0,r.wg)(),(0,r.iD)("button",{key:1,onClick:function(n){return $.saveName(e,t)},class:"inline-block p-2 bg-gray-200 rounded"},v,8,b))]),(0,r._)("div",w,[y,(0,r._)("span",null,(0,r.zw)(e.mevali),1)]),(0,r._)("div",x,[k,(0,r._)("span",null,(0,r.zw)(e.manzarali),1)]),(0,r._)("main",_,[(0,r._)("button",{onClick:function(t){return $.openDeleteForm(e.id)},class:"custom-btn bg-gray-600 hover:bg-red-700"},C,8,T),(0,r._)("a",{href:"/constructor/"+e.id,class:"custom-btn justify-center shadow-sm"},U,8,D)])])])})),128))])):(0,r.kq)("",!0),(0,r._)("main",j,[(0,r._)("button",{onClick:t[0]||(t[0]=function(e){return A.addForm=!0}),class:"custom-btn shadow-sm bg-green-600 text-white hover:bg-green-800",title:"Uchastka qo'shish"},q)])]),(0,r.Wm)(r.uT,{name:"fade"},{default:(0,r.w5)((function(){return[A.addForm?((0,r.wg)(),(0,r.j4)(F,{key:0,onClose:t[1]||(t[1]=function(e){return A.addForm=!1}),onAddTerritory:$.addTerritory},null,8,["onAddTerritory"])):(0,r.kq)("",!0)]})),_:1}),(0,r.Wm)(r.uT,{name:"fade"},{default:(0,r.w5)((function(){return[A.activeId?((0,r.wg)(),(0,r.j4)(I,{key:0,id:A.activeId,onClose:t[2]||(t[2]=function(e){return A.activeId=null}),onDeleted:t[3]||(t[3]=function(e){return $.getTerritories(!0)})},null,8,["id"])):(0,r.kq)("",!0)]})),_:1})])],64)}],["__scopeId","data-v-fcca1668"]])}}]);
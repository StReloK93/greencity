"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[341],{6510:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{Z:()=>a});var a=function(){function e(t){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,r="keysArr",a=[{frame:0,value:BABYLON.Color3.FromHexString("#C8F5FF").toLinearSpace()},{frame:20,value:new BABYLON.Color3(1,1,1)},{frame:20,value:new BABYLON.Color3(1,1,1)},{frame:40,value:BABYLON.Color3.FromHexString("#C8F5FF").toLinearSpace()}],r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,this.scene=t}var t,n,a;return t=e,n=[{key:"hover",value:function(e){var t=this,n=e.material;e.actionManager.registerAction(new BABYLON.ExecuteCodeAction({trigger:BABYLON.ActionManager.OnPointerOverTrigger},(function(){t.scene.activeMesh!=e&&(e.material=t.scene.getMaterialByName("hover"))}))),e.actionManager.registerAction(new BABYLON.ExecuteCodeAction({trigger:BABYLON.ActionManager.OnPointerOutTrigger},(function(){t.scene.activeMesh!=e&&(e.material=n)})))}},{key:"animate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.keysArr;this.animation=new BABYLON.Animation("newBlink",e,60,t,BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE),this.animation.setKeys(n),this.animationGroup=new BABYLON.AnimationGroup("newBlinkGroup")}},{key:"animatePlay",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&this.animate("material.diffuseColor",BABYLON.Animation.ANIMATIONTYPE_COLOR3),e.material=this.scene.getMaterialByName("animated"),this.animationGroup.addTargetedAnimation(this.animation,e),this.animationGroup.play(!0)}},{key:"animateStop",value:function(){this.animationGroup.stop(),this.animationGroup.dispose()}}],n&&r(t.prototype,n),a&&r(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}()},8341:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var r=n(821),a={key:0,class:"uppercase fixed top-0 right-0 text-blue-600"},i=(0,r.Uk)("Maydonlar"),o={key:1,class:"uppercase fixed top-0 right-0 text-blue-600"},c=(0,r.Uk)("Kirish"),s={class:"h-full w-full border-transparent",ref:"BuilderCanvas"};function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=t,this.createScene(),this.setEnvironment()}var t,n,r;return t=e,(n=[{key:"createScene",value:function(){var e=this,t=new BABYLON.Engine(this.canvas,!0);this.scene=new BABYLON.Scene(t),t.runRenderLoop((function(){e.scene.render()})),window.addEventListener("resize",(function(){t.resize()}))}},{key:"setEnvironment",value:function(){var e=BABYLON.CubeTexture.CreateFromPrefilteredData("./textures/hdrmini.env",this.scene);this.scene.environmentTexture=e,this.scene.clearColor=new BABYLON.Color3(.8,.8,.8,1)}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.createLight()}var t,n,r;return t=e,(n=[{key:"createLight",value:function(){this.light=new BABYLON.HemisphericLight("light",new BABYLON.Vector3(1,1,0))}}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),m=n(6510);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.Import()}var t,n,r;return t=e,(n=[{key:"Import",value:function(){BABYLON.SceneLoader.AppendAsync("./models/assets.glb",void 0,this.scene,(function(e){e.lengthComputable&&(e.loaded,e.total)}),".glb")}}])&&p(t.prototype,n),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var w=d((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actions=new m.Z(t),new v(t)}));function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,r="camera",a=new BABYLON.ArcRotateCamera("camera",-Math.PI/2,0,40,new BABYLON.Vector3(0,0,0)),r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,this.canvas=t,this.createCamera(),this.limits()}var t,n,r;return t=e,(n=[{key:"createCamera",value:function(){var e=this;this.camera.attachControl(this.canvas,!0),this.camera.mode=1,this.camera.minZ=0,this.camera.onViewMatrixChangedObservable.add((function(){e.orthographic()})),window.addEventListener("resize",(function(){e.orthographic()}))}},{key:"orthographic",value:function(){var e=this.canvas.width/this.canvas.height;this.camera.orthoTop=this.camera.radius/e,this.camera.orthoBottom=-this.camera.radius/e,this.camera.orthoLeft=-this.camera.radius,this.camera.orthoRight=this.camera.radius}},{key:"limits",value:function(){this.camera.useBouncingBehavior=!0,this.camera.lowerRadiusLimit=25,this.camera.upperRadiusLimit=240,this.camera.inputs.attached.keyboard.detachControl(),this.camera.inputs.attached.pointers.buttons=[1,2]}}])&&g(t.prototype,n),r&&g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();const B={mounted:function(){var e,t,n,r;this.MeshBuilder=(e=this.$refs.BuilderCanvas,t=new l(e),n=new y(e),r=new w(t.scene),{Scene:t,Camera:n,Light:new f,Meshes:r})}};const O=(0,n(3744).Z)(B,[["render",function(e,t,n,u,l,h){var f=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)(r.HY,null,[e.$store.state.user?((0,r.wg)(),(0,r.iD)("main",a,[(0,r.Wm)(f,{class:"font-bold inline-block p-2 px-4 m-3 border-2 border-blue-600 hover:bg-blue-600 hover:text-white",to:"/territories"},{default:(0,r.w5)((function(){return[i]})),_:1}),(0,r._)("button",{onClick:t[0]||(t[0]=function(t){return e.$store.dispatch("logout")}),class:"uppercase font-bold inline-block text-blue-600 p-2 px-4 m-3 border-2 border-blue-600 hover:bg-blue-600 hover:text-white"},"Tizimdan chiqish")])):((0,r.wg)(),(0,r.iD)("main",o,[(0,r.Wm)(f,{class:"font-bold inline-block p-2 px-4 m-3 border-2 border-blue-600 hover:bg-blue-600 hover:text-white",to:"/login"},{default:(0,r.w5)((function(){return[c]})),_:1})])),(0,r._)("canvas",s,null,512)],64)}]])}}]);